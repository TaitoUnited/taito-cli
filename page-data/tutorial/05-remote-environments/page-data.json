{"componentChunkName":"component---src-templates-tutorial-js","path":"/tutorial/05-remote-environments/","webpackCompilationHash":"bf60b8dc4146efe13ab5","result":{"data":{"tutorial":{"id":"410079ee-aa7c-5b73-bc4e-43fad1ad8fb2","html":"<h1 id=\"part-ii-environments\"><a href=\"#part-ii-environments\" aria-label=\"part ii environments permalink\" class=\"autolink-a\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PART II: Environments</h1>\n<blockquote>\n<p>TODO: If zone does not yet exist, see chapter...\nTODO: Project configs not ok if zone has not yet been created</p>\n</blockquote>\n<h2 id=\"5-remote-environments\"><a href=\"#5-remote-environments\" aria-label=\"5 remote environments permalink\" class=\"autolink-a\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. Remote environments</h2>\n<p>TODO describe environments:</p>\n<ul>\n<li><strong>f-NAME:</strong> feature</li>\n<li><strong>local:</strong> local development</li>\n<li><strong>dev:</strong> development</li>\n<li><strong>test:</strong> testing</li>\n<li><strong>stag:</strong> staging</li>\n<li><strong>canary:</strong> canary (runs side-by-side with production)</li>\n<li><strong>prod:</strong> production</li>\n</ul>\n<p>TODO hotfix branches</p>\n<p>TODO existing playground project -> destroy environments first.</p>\n<h3 id=\"51-create-dev-environment\"><a href=\"#51-create-dev-environment\" aria-label=\"51 create dev environment permalink\" class=\"autolink-a\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5.1. Create dev environment</h3>\n<p>Make sure your authentication is in effect (just in case):</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">taito auth:dev</code></pre></div>\n<p>Create the dev environment:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">taito <span class=\"token function\">env</span> apply:dev            <span class=\"token comment\"># Create the dev environment</span>\ntaito push                     <span class=\"token comment\"># Push some changes to the dev branch</span></code></pre></div>\n<p>Make sure it works ok:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">taito <span class=\"token function\">open</span> builds              <span class=\"token comment\"># Watch it build and deploy automatically</span>\ntaito <span class=\"token function\">open</span> status:dev          <span class=\"token comment\"># Check status of dev environment</span>\ntaito <span class=\"token function\">open</span> client:dev          <span class=\"token comment\"># Open application GUI</span>\ntaito info:dev                 <span class=\"token comment\"># Show details for logging in</span>\ntaito db connect:dev           <span class=\"token comment\"># Connect to database</span>\ntaito <span class=\"token function\">open</span> storage:dev         <span class=\"token comment\"># Open storage bucket</span>\ntaito <span class=\"token function\">open</span> logs:dev            <span class=\"token comment\"># Open logs</span></code></pre></div>\n<p>The first CI/CD build will take some time. Subsequent builds are faster as they use a previous build as cache.</p>\n<p>CI/CD deploys database migrations automatically, but not any data. You can manually deploy both database migrations and example data from <code class=\"language-text\">database/data/dev.sql</code> with <code class=\"language-text\">taito init:dev</code> or <code class=\"language-text\">taito init:dev --clean</code>. You can also import data from any sql file with <code class=\"language-text\">taito db import:dev FILE</code>.</p>\n<h3 id=\"52-run-integration-and-e2e-tests-manually-againts-the-dev-environment\"><a href=\"#52-run-integration-and-e2e-tests-manually-againts-the-dev-environment\" aria-label=\"52 run integration and e2e tests manually againts the dev environment permalink\" class=\"autolink-a\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5.2. Run integration and e2e tests manually againts the dev environment</h3>\n<p>CI/CD runs integration and e2e tests automatically against the dev environment, because <code class=\"language-text\">ci_exec_test=true</code> for dev enviroment in <code class=\"language-text\">taito-config.sh</code>. You can run tests against the dev environment also yourself:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">taito test:dev</code></pre></div>\n<h3 id=\"53-create-test-environment\"><a href=\"#53-create-test-environment\" aria-label=\"53 create test environment permalink\" class=\"autolink-a\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5.3. Create test environment</h3>\n<p>Make sure your authentication is in effect (just in case):</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">taito auth:test</code></pre></div>\n<p>Create the test environment:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">EDIT scripts/taito/project.sh      <span class=\"token comment\"># Add 'test' to 'taito_environments'</span>\ntaito <span class=\"token function\">env</span> apply:test               <span class=\"token comment\"># Create the test environment</span>\ntaito <span class=\"token function\">env</span> merge:dev <span class=\"token builtin class-name\">test</span>           <span class=\"token comment\"># Merge changes from dev to test</span></code></pre></div>\n<p>Make sure it works:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">taito <span class=\"token function\">open</span> builds                  <span class=\"token comment\"># Watch it build and deploy automatically</span>\ntaito <span class=\"token function\">open</span> status:test             <span class=\"token comment\"># Check status of test environment</span>\ntaito <span class=\"token function\">open</span> client:test             <span class=\"token comment\"># Open application GUI</span></code></pre></div>\n<p>CI/CD deploys database migrations automatically, but not any data. You can manually deploy both database migrations and example data from <code class=\"language-text\">database/data/test.sql</code> with <code class=\"language-text\">taito init:test</code> or <code class=\"language-text\">taito init:test --clean</code>. You can also import data from any sql file with <code class=\"language-text\">taito db import:test FILE</code>.</p>\n<h3 id=\"54-create-production-environment\"><a href=\"#54-create-production-environment\" aria-label=\"54 create production environment permalink\" class=\"autolink-a\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5.4. Create production environment</h3>\n<p>Configure domain name for prod environment in <code class=\"language-text\">scripts/taito/prod-env.sh</code>. If you want to go with the default domain name, just copy the <code class=\"language-text\">taito_default_domain</code> to <code class=\"language-text\">taito_domain</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Production domain name (e.g. mydomain.com)</span>\n<span class=\"token assign-left variable\">taito_domain</span><span class=\"token operator\">=</span>\n\n<span class=\"token comment\"># Default domain name (copy value to taito_domain if custom name is not required)</span>\n<span class=\"token assign-left variable\">taito_default_domain</span><span class=\"token operator\">=</span><span class=\"token variable\">$taito_project</span>-<span class=\"token variable\">$taito_target_env</span>.mydomain.com</code></pre></div>\n<p>OPTIONAL: Configure DNS for your non-default domain name. You can display the default IP address with <code class=\"language-text\">taito env info:prod</code>.</p>\n<p>OPTIONAL: Disable basic authentication for production environment in <code class=\"language-text\">scripts/taito/prod-env.sh</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Disable production environment basic auth by setting this to false</span>\n<span class=\"token assign-left variable\">taito_basic_auth_enabled</span><span class=\"token operator\">=</span>true</code></pre></div>\n<p>Make sure your authentication is in effect (just in case):</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">taito auth:prod</code></pre></div>\n<p>Create the environment:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">taito <span class=\"token function\">env</span> apply:prod           <span class=\"token comment\"># Create the prod environment</span>\ntaito <span class=\"token function\">env</span> merge:test prod      <span class=\"token comment\"># Merge changes from test to prod</span></code></pre></div>\n<p>Make sure it works:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">taito <span class=\"token function\">open</span> builds              <span class=\"token comment\"># Watch it build and deploy automatically</span>\ntaito <span class=\"token function\">open</span> status:prod         <span class=\"token comment\"># Check status of prod environment</span>\ntaito <span class=\"token function\">open</span> client:prod         <span class=\"token comment\"># Open application GUI</span></code></pre></div>\n<p>CI/CD deploys database migrations automatically, but not any data. You can manually import data from any sql file with <code class=\"language-text\">taito db import:prod FILE</code>. You should not use <code class=\"language-text\">taito init:prod</code> command with a live production environment that already contains some important data.</p>\n<blockquote>\n<p>At this point your production environment already exists. However, before releasing it to the real end-users, you might want to do some additional tasks that are explained in chapter <a href=\"/taito-cli/tutorial/10-production-setup\">10. Production setup</a>.</p>\n</blockquote>\n<h3 id=\"55-create-canary-environment\"><a href=\"#55-create-canary-environment\" aria-label=\"55 create canary environment permalink\" class=\"autolink-a\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5.5. Create canary environment</h3>\n<p>Canary environment is a special environment that uses production environment resources: databases, storage buckets, secrets and external services. That is, if you deploy your application to the canary environment, your application will run side-by-side with the production version of the application, and it will also use all the same resources.</p>\n<p>NOTE: Since canary environment uses production resources, you don't need to run <code class=\"language-text\">taito env apply:canary</code> when creating the environment.</p>\n<p>Create the canary environment:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">EDIT scripts/taito/project.sh       <span class=\"token comment\"># Add 'canary' to 'taito_environments'</span>\ntaito <span class=\"token function\">env</span> merge:test canary        <span class=\"token comment\"># Merge changes from test to canary</span></code></pre></div>\n<p>Make sure it works:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">taito <span class=\"token function\">open</span> builds                  <span class=\"token comment\"># Watch it build and deploy automatically</span>\ntaito <span class=\"token function\">open</span> status:canary           <span class=\"token comment\"># Check status of canary environment</span>\ntaito <span class=\"token function\">open</span> client:canary           <span class=\"token comment\"># Open canary application GUI</span>\ntaito <span class=\"token function\">open</span> client:prod             <span class=\"token comment\"># Open production application GUI</span>\n** Create some posts <span class=\"token keyword\">in</span> the production app **\n** Resfresh the posts page <span class=\"token keyword\">in</span> the canary app -<span class=\"token operator\">></span> you'll see the new posts **</code></pre></div>\n<p>And how this works exactly? Well, the canary environment is mapped to production resources in <code class=\"language-text\">taito-config.sh</code> with these lines:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Environment mappings</span>\n<span class=\"token assign-left variable\">taito_env</span><span class=\"token operator\">=</span><span class=\"token string\">\"<span class=\"token variable\">${taito_env<span class=\"token operator\">/</span>canary<span class=\"token operator\">/</span>prod}</span>\"</span> <span class=\"token comment\"># canary -> prod</span></code></pre></div>\n<h3 id=\"56-deploy-changes-through-multiple-environments-dev---canary\"><a href=\"#56-deploy-changes-through-multiple-environments-dev---canary\" aria-label=\"56 deploy changes through multiple environments dev   canary permalink\" class=\"autolink-a\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5.6. Deploy changes through multiple environments (dev -> canary)</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">taito push                       <span class=\"token comment\"># Push some changes to the dev branch</span>\ntaito <span class=\"token function\">env</span> merge:dev canary       <span class=\"token comment\"># Merge changes: dev -> test -> canary</span>\ntaito <span class=\"token function\">open</span> builds                <span class=\"token comment\"># See them build and deploy</span></code></pre></div>\n<h3 id=\"57-create-a-feature-environment\"><a href=\"#57-create-a-feature-environment\" aria-label=\"57 create a feature environment permalink\" class=\"autolink-a\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5.7. Create a feature environment</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">TODO</code></pre></div>\n<h3 id=\"58-delete-the-feature-environment\"><a href=\"#58-delete-the-feature-environment\" aria-label=\"58 delete the feature environment permalink\" class=\"autolink-a\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5.8. Delete the feature environment</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">TODO</code></pre></div>\n<h3 id=\"59-revert-application-to-the-previous-revision\"><a href=\"#59-revert-application-to-the-previous-revision\" aria-label=\"59 revert application to the previous revision permalink\" class=\"autolink-a\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5.9. Revert application to the previous revision</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">taito deployment revert:prod</code></pre></div>\n<h3 id=\"510-deploy-a-specific-version-of-the-application\"><a href=\"#510-deploy-a-specific-version-of-the-application\" aria-label=\"510 deploy a specific version of the application permalink\" class=\"autolink-a\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5.10. Deploy a specific version of the application</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">taito deployment deploy:dev <span class=\"token number\">1.1</span>.0</code></pre></div>\n<h3 id=\"511-make-a-hotfix-for-production\"><a href=\"#511-make-a-hotfix-for-production\" aria-label=\"511 make a hotfix for production permalink\" class=\"autolink-a\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5.11. Make a hotfix for production</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">TODO</code></pre></div>\n<h3 id=\"512-debugging\"><a href=\"#512-debugging\" aria-label=\"512 debugging permalink\" class=\"autolink-a\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5.12. Debugging</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">taito <span class=\"token function\">open</span> logs:dev              <span class=\"token comment\"># Open logs of dev environment</span>\ntaito logs:server:dev            <span class=\"token comment\"># Tail logs of a container named 'worker'</span>\ntaito shell:server:dev           <span class=\"token comment\"># Start shell on a container named 'server'</span>\ntaito exec:server:dev <span class=\"token builtin class-name\">echo</span> foo   <span class=\"token comment\"># Execute a command inside the server container</span></code></pre></div>\n<p>TODO link: Stackdriver log filtering instructions</p>\n<h3 id=\"513-some-additional-deployment-commands\"><a href=\"#513-some-additional-deployment-commands\" aria-label=\"513 some additional deployment commands permalink\" class=\"autolink-a\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5.13. Some additional deployment commands</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">taito deployment start:dev        <span class=\"token comment\"># Start ci build for dev environment manually</span>\ntaito deployment cancel:dev       <span class=\"token comment\"># Cancel an ongoing dev environment build</span>\ntaito deployment build:worker:dev <span class=\"token comment\"># Build and deploy worker container to dev env directly from local env</span></code></pre></div>\n<h3 id=\"todo-something-about-advanced-deployment-options\"><a href=\"#todo-something-about-advanced-deployment-options\" aria-label=\"todo something about advanced deployment options permalink\" class=\"autolink-a\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TODO Something about advanced deployment options?</h3>\n<blockquote>\n<p>Some of the advanced operations might require admin credentials (e.g. staging/canary/production operations). If you don't have an admin account, ask devops personnel to execute the operation for you.</p>\n</blockquote>\n<p>Advanced features (TODO not all implemented yet):</p>\n<ul>\n<li><strong>Quickly deploy settings</strong>: If you are in a hurry, you can deploy Helm/Kubernetes changes directly to an environment with the <code class=\"language-text\">taito deployment deploy:ENV</code>.</li>\n<li><strong>Quickly deploy a container</strong>: If you are in a hurry, you can build, push and deploy a single container directly to server with the <code class=\"language-text\">taito deployment build:TARGET:ENV</code> command e.g. <code class=\"language-text\">taito deployment build:client:dev</code>.</li>\n<li><strong>Copy production data to staging</strong>: Often it's a good idea to copy production database to staging before merging changes to the stag branch: <code class=\"language-text\">taito db copy between:prod:stag</code>, <code class=\"language-text\">taito storage copy between:prod:stag</code>. If you are sure nobody is using the production database, you can alternatively use the quick copy (<code class=\"language-text\">taito db copyquick between:prod:stag</code>), but it disconnects all other users connected to the production database until copying is finished and also requires that both databases are located in the same database cluster.</li>\n<li><strong>Feature branch</strong>: You can create an environment also for a feature branch: <code class=\"language-text\">taito env apply:f-NAME</code>. The feature should reside in a branch named <code class=\"language-text\">feature/NAME</code>.</li>\n<li><strong>Revert application</strong>: Revert application to the previous revision by running <code class=\"language-text\">taito deployment revert:ENV</code>. If you need to revert to a specific revision, check current revision by running <code class=\"language-text\">taito deployment revisions:ENV</code> first and then revert to a specific revision by running <code class=\"language-text\">taito deployment revert:ENV REVISION</code>. You can also deploy a specific version with <code class=\"language-text\">taito deployment deploy:ENV IMAGE_TAG|SEMANTIC_VERSION</code>.</li>\n<li><strong>Debugging CI builds</strong>: You can build and start production containers locally with the <code class=\"language-text\">taito start --clean --prod</code> command. You can also run any CI build steps defined in cloudbuild.yaml locally with Taito CLI.</li>\n</ul>\n<hr>\n<p><strong>Next:</strong> <a href=\"/taito-cli/tutorial/06-env-variables-and-secrets\">6. Environment variables and secrets</a></p>"},"menu":{"edges":[{"node":{"id":"ea55262d-3b99-5702-92bb-7b8eb6a63904","headings":[{"value":"1. Starting a new project"}],"fields":{"slug":"/tutorial/01-starting-a-new-project/"}}},{"node":{"id":"e61f9197-cbcf-59ec-a93c-16a90d35ac5e","headings":[{"value":"2. Local development"}],"fields":{"slug":"/tutorial/02-local-development/"}}},{"node":{"id":"d4baa900-2a12-54f9-ba27-a8d534508a50","headings":[{"value":"3. Version control"}],"fields":{"slug":"/tutorial/03-version-control/"}}},{"node":{"id":"e5b28f6e-dc7c-55b2-a8df-6371666edba3","headings":[{"value":"4. Project management"}],"fields":{"slug":"/tutorial/04-project-management/"}}},{"node":{"id":"410079ee-aa7c-5b73-bc4e-43fad1ad8fb2","headings":[{"value":"5. Remote environments"}],"fields":{"slug":"/tutorial/05-remote-environments/"}}},{"node":{"id":"76e02710-035a-5e3d-beb7-fc9817515f76","headings":[{"value":"6. Environment variables and secrets"}],"fields":{"slug":"/tutorial/06-env-variables-and-secrets/"}}},{"node":{"id":"1f3b8ff0-39ab-5ba1-abc4-56f7af70193c","headings":[{"value":"7. Databases and files"}],"fields":{"slug":"/tutorial/07-databases-and-files/"}}},{"node":{"id":"8fc84831-67f1-57fe-b69d-d1f62b286d84","headings":[{"value":"8. Cloud services and Terraform"}],"fields":{"slug":"/tutorial/08-cloud-services-and-terraform/"}}},{"node":{"id":"9546407a-b7a1-5085-bbe9-87528d01d1a1","headings":[{"value":"9. full-stack-template specific details"}],"fields":{"slug":"/tutorial/09-full-stack-template-specific/"}}},{"node":{"id":"89504f6e-33ec-5677-82b5-9fa28736b161","headings":[{"value":"10. Production setup"}],"fields":{"slug":"/tutorial/10-production-setup/"}}},{"node":{"id":"8fbd553c-b3fa-5b09-af2a-6a7e70bfa721","headings":[{"value":"11. Running in production"}],"fields":{"slug":"/tutorial/11-running-in-production/"}}},{"node":{"id":"55575dd6-44fc-5741-9344-880728b65709","headings":[{"value":"12. Creating a custom command"}],"fields":{"slug":"/tutorial/12-creating-a-custom-command/"}}},{"node":{"id":"696dfd23-59b7-5fca-970f-b795397bf8a6","headings":[{"value":"13. Creating a custom plugin"}],"fields":{"slug":"/tutorial/13-creating-a-custom-plugin/"}}},{"node":{"id":"91f236c1-27fe-5de2-89a2-e9836ea411e5","headings":[{"value":"14. Creating a custom template"}],"fields":{"slug":"/tutorial/14-creating-a-custom-template/"}}},{"node":{"id":"0308f442-4180-507a-a667-b0b37b2f0545","headings":[{"value":"15. Creating a zone"}],"fields":{"slug":"/tutorial/15-creating-a-zone/"}}},{"node":{"id":"d7952fc4-0209-5517-8561-16ab8989b746","headings":[{"value":"16. Zone maintenance"}],"fields":{"slug":"/tutorial/16-zone-maintenance/"}}},{"node":{"id":"f9d37f80-c89e-528c-850a-de3e2adaaf50","headings":[{"value":"17. Zone monitoring"}],"fields":{"slug":"/tutorial/17-zone-monitoring/"}}},{"node":{"id":"19203374-faba-53e2-a553-60f81ce47be2","headings":[{"value":"18. Zone recovery"}],"fields":{"slug":"/tutorial/18-zone-recovery/"}}},{"node":{"id":"6695f7b2-f012-5af0-a971-e19ad56166ad","headings":[{"value":"APPENDIX A: Technology tutorials"}],"fields":{"slug":"/tutorial/a-technology-tutorials/"}}},{"node":{"id":"10521c5c-094c-5386-9051-3142ba72d172","headings":[{"value":"APPENDIX B: Software design"}],"fields":{"slug":"/tutorial/b-software-design/"}}},{"node":{"id":"0eb68f0b-802a-5e44-82c9-a5c931dae831","headings":[{"value":"APPENDIX C: Modern server infrastructure"}],"fields":{"slug":"/tutorial/c-modern-server-infrastructure/"}}},{"node":{"id":"7ad9868c-3ce5-5720-bca7-0b9140f8130c","headings":[{"value":"APPENDIX D: Security"}],"fields":{"slug":"/tutorial/d-security/"}}},{"node":{"id":"92cbd4a3-978b-56ea-9d6b-1408a3b23800","headings":[{"value":"APPENDIX E: Data protection and privacy (GDPR)"}],"fields":{"slug":"/tutorial/e-data-protection-and-privacy/"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"410079ee-aa7c-5b73-bc4e-43fad1ad8fb2"}}}