{"data":{"tutorial":{"id":"3827531b-fba0-5a2a-9084-52516d3872f3","html":"<h2>3. Version control</h2>\n<p>Taito CLI provides some version control commands that make it easier for you to follow commonly defined version control conventions. An organization may also override the default version control conventions with a custom Taito CLI plugin.</p>\n<blockquote>\n<p>All commit messages must be structured according to the <a href=\"https://github.com/angular/angular/blob/22b96b9/CONTRIBUTING.md#-commit-message-guidelines\">Angular git commit convention</a> (see also <a href=\"http://conventionalcommits.org/\">Conventional Commits</a>). This is because application version number and release notes are generated automatically for production release by the <a href=\"https://github.com/semantic-release/semantic-release\">semantic-release</a> library.</p>\n</blockquote>\n<h3>3.1 Display commonly defined conventions</h3>\n<p>If you would rather use GUI tools or git commands for managing your branches, you can display the version control conventions by running:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">taito conventions</code></pre></div>\n<p>The aforementioned command should display the following version control conventions defined by Taito CLI, unless your organization has overridden some of them.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">Environment branches:\n- Branch naming: dev, test, stag, canary, master.\n- Environment branches should be merged to one another <span class=\"token keyword\">in</span> the following\n  order: dev -<span class=\"token operator\">></span> <span class=\"token function\">test</span> -<span class=\"token operator\">></span> stag -<span class=\"token operator\">></span> canary -<span class=\"token operator\">></span> master.\n- Environment branches should be merged using fast-forward only.\n- <span class=\"token string\">'dev'</span> is the only environment branch that you should commit changes to.\n\nFeature branches:\n- Branch naming with <span class=\"token string\">'feature/'</span> prefix, <span class=\"token keyword\">for</span> example: feature/delete-user.\n- Feature branches are created from <span class=\"token string\">'dev'</span> branch and merged back to it\n  using <span class=\"token variable\"><span class=\"token variable\">`</span>non-fast-forward<span class=\"token variable\">`</span></span> to keep a <span class=\"token function\">clear</span> feature branch history.\n- You should rebase your feature branch with the <span class=\"token variable\"><span class=\"token variable\">`</span>dev<span class=\"token variable\">`</span></span> branch before\n  merging or creating a pull-request. It is recommended to squash some of your\n  commits during rebase to keep a clean version history.\n- You should run all tests before merging or creating a pull-request.\n- You should delete a feature branch once it is no longer needed.\n\nHotfix branches:\n- TODO</code></pre></div>\n<p>There is a lot to remember. However, if you use Taito CLI for managing your branches, you don't have to remember all these conventions.</p>\n<h5>TODO COMMIT MESSAGES!</h5>\n<p>All commit messages must be structured according to the <a href=\"https://github.com/angular/angular/blob/22b96b9/CONTRIBUTING.md#-commit-message-guidelines\">Angular git commit convention</a> (see also <a href=\"http://conventionalcommits.org/\">Conventional Commits</a>). This is because application version number and release notes are generated automatically for production release by the <a href=\"https://github.com/semantic-release/semantic-release\">semantic-release</a> library.</p>\n<p>Some commit message examples:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">feat<span class=\"token punctuation\">(</span>dashboard<span class=\"token punctuation\">)</span>: news</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docs: installation instructions\n\n<span class=\"token punctuation\">[</span>skip ci<span class=\"token punctuation\">]</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">fix<span class=\"token punctuation\">(</span>login<span class=\"token punctuation\">)</span>: fix header alignment\n\nProblem persists with IE9, but IE9 is no longer supported.\n\nCloses <span class=\"token comment\">#87, #76</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">feat<span class=\"token punctuation\">(</span>ux<span class=\"token punctuation\">)</span>: new <span class=\"token function\">look</span> and feel\n\nBREAKING CHANGE: Not really breaking anything, but it's a good <span class=\"token function\">time</span> to\nincrease the major version number.</code></pre></div>\n<p>Meanings:</p>\n<ul>\n<li>Closes #xx, #xx: Closes issues</li>\n<li>Issues #xx, #xx: References issues</li>\n<li>BREAKING CHANGE: Introduces a breaking change that causes major version number to be increased in the next production release.</li>\n<li>[skip ci]: Skips continuous integration build when the commit is pushed.</li>\n</ul>\n<p>You can use any of the following types in your commit message. Use at least types <code class=\"language-text\">fix</code> and <code class=\"language-text\">feat</code>. Normally you shouldn't use the <code class=\"language-text\">wip</code> type with dev branch, but you can use it in this tutorial.</p>\n<ul>\n<li><code class=\"language-text\">wip</code>: Work-in-progress (small commits that will be squashed later to one larger commit before merging them to one of the environment branches)</li>\n<li><code class=\"language-text\">feat</code>: A new feature</li>\n<li><code class=\"language-text\">fix</code>: A bug fix</li>\n<li><code class=\"language-text\">docs</code>: Documentation only changes</li>\n<li><code class=\"language-text\">style</code>: Code formatting</li>\n<li><code class=\"language-text\">refactor</code>: Refactoring</li>\n<li><code class=\"language-text\">perf</code>: Performance tuning</li>\n<li><code class=\"language-text\">test</code>: Implementing missing tests or correcting existing ones</li>\n<li><code class=\"language-text\">revert</code>: Revert previous commit.</li>\n<li><code class=\"language-text\">build</code>: Build system changes</li>\n<li><code class=\"language-text\">ci</code>: Continuous integration changes (cloudbuild.yaml)</li>\n<li><code class=\"language-text\">chore</code>: maintenance</li>\n</ul>\n<h3>3.2 Feature branches</h3>\n<p>Feature branches are handy especially in the following situations:</p>\n<ul>\n<li><strong>Making changes to existing production functionality</strong>: Use feature branches and pull-requests for code reviews. This will decrease the likelyhood that the change will brake something in production. It is also easier to keep the release log clean by using separate feature branches.</li>\n<li><strong>A new project team member</strong>: Use pull-requests for code reviews. This way you can help the new developer in getting familiar with the coding conventions and application logic of the project.</li>\n<li><strong>Teaching a new technology</strong>: Pull-requests can be very useful in teaching best practices for an another developer.</li>\n</ul>\n<p>Code reviews are very important at the beginning of a new software project, because this is the time when the basic foundation is built for the future development. At the beginning, however, it is usually more sensible to do occasional code reviews across the entire codebase instead of feature specific code reviews based on pull-requests.</p>\n<p>Note that most feature branches should be short-lived and located only on your local git repository, unless you are going to make a pull-request.</p>\n<h4>Display commands</h4>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">taito feat -h</code></pre></div>\n<h4>Create a new feature branch</h4>\n<p>Create a public feature branch and make some changes to it:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">taito feat: delete-post\n** Commit and push some changes **</code></pre></div>\n<h4>Create another feature branch and squash it back to dev as a single commit</h4>\n<p>Create a private feature branch, commit some changes to it as multiple commits, merge all changes to the dev branch as a single commit, and delete the feature branch:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">taito feat: delete-image\n** Commit some changes as multiple commits **\ntaito feat squash</code></pre></div>\n<blockquote>\n<p>The <code class=\"language-text\">taito feat squash</code> is a handy command when you are working alone and want to keep version history clean by using feature branches. For team work it is recommended to use <code class=\"language-text\">taito feat merge</code> or <code class=\"language-text\">taito feat pr</code> instead.</p>\n</blockquote>\n<h4>Merge the existing delete-post feature branch to dev</h4>\n<p>Switch back to the <code class=\"language-text\">delete-post</code> feature branch, make some changes to it, rebase it with the dev branch and merge it using fast-forward:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">taito feat: delete-post\n** Commit and push some changes **\ntaito feat merge</code></pre></div>\n<h4>Create a new feature branch and merge it with a pull-request</h4>\n<p>Create a public feature branch, make some changes to it, rebase it with dev branch, and create a pull-request:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">taito feat: reporting\n** Commit and push some changes **\ntaito feat <span class=\"token function\">pr</span></code></pre></div>\n<h3>3.3 Environment branches</h3>\n<p>Display commands:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">taito <span class=\"token function\">env</span> -h</code></pre></div>\n<p>Change to dev branch:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">taito env:dev</code></pre></div>\n<p>Merge changes from current environment branch (dev) to the next (test):</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">taito <span class=\"token function\">env</span> merge</code></pre></div>\n<p>Merge changes from dev branch to canary, and to all environment branches in between them:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">taito <span class=\"token function\">env</span> merge:dev canary</code></pre></div>\n<h3>3.4 Hotfix branches</h3>\n<p>TODO</p>\n<h3>3.5 Feature flags</h3>\n<p>TODO</p>\n<h3>3.6 Some common mistakes</h3>\n<p>TODO:</p>\n<ul>\n<li>Most common mistake so far: An accidental commit to an environment branch other than dev -> prevents fast-forward merge.</li>\n<li>Erased a commit from dev branch that was already merged to test branch -> prevents fast-forward merge.</li>\n<li>Premature feature branch merge to dev (merge commit on top vs. other commits on top of it)</li>\n<li>Premature env branch merge</li>\n</ul>\n<hr>\n<p><strong>Next:</strong> <a href=\"/tutorial/04-project-management\">4. Project management</a></p>"},"menu":{"edges":[{"node":{"id":"9162b0dd-c4f6-5ba0-988b-4c795a6ce66f","headings":[{"value":"1. Starting a new project"}],"fields":{"slug":"/tutorial/01-starting-a-new-project/"}}},{"node":{"id":"64c9ed3b-6893-5927-9d97-72bd14b54630","headings":[{"value":"2. Local development"}],"fields":{"slug":"/tutorial/02-local-development/"}}},{"node":{"id":"3827531b-fba0-5a2a-9084-52516d3872f3","headings":[{"value":"3. Version control"}],"fields":{"slug":"/tutorial/03-version-control/"}}},{"node":{"id":"b2030e15-dc9b-5f98-a5cf-3e3dccdd6c11","headings":[{"value":"4. Project management"}],"fields":{"slug":"/tutorial/04-project-management/"}}},{"node":{"id":"d83c3a19-3868-56cf-a5f9-b24b2af66b20","headings":[{"value":"5. Remote environments"}],"fields":{"slug":"/tutorial/05-remote-environments/"}}},{"node":{"id":"a3492616-cb8e-5f4a-b062-48d6537274e7","headings":[{"value":"6. Environment variables and secrets"}],"fields":{"slug":"/tutorial/06-env-variables-and-secrets/"}}},{"node":{"id":"121a9436-85c8-5b92-878e-f735f1eb93ff","headings":[{"value":"7. Databases and files"}],"fields":{"slug":"/tutorial/07-databases-and-files/"}}},{"node":{"id":"e748c043-1f1c-5518-80dd-80b011007d72","headings":[{"value":"8. Cloud services and Terraform"}],"fields":{"slug":"/tutorial/08-cloud-services-and-terraform/"}}},{"node":{"id":"29e65915-3efc-5834-94b8-14d162cd137f","headings":[{"value":"9. full-stack-template specific details"}],"fields":{"slug":"/tutorial/09-full-stack-template-specific/"}}},{"node":{"id":"18fc3997-3a39-5864-a5bf-e48ffc85bbfa","headings":[{"value":"10. Production setup"}],"fields":{"slug":"/tutorial/10-production-setup/"}}},{"node":{"id":"5accd1d7-2b43-5201-b38b-3aadfc1bcc78","headings":[{"value":"11. Running in production"}],"fields":{"slug":"/tutorial/11-running-in-production/"}}},{"node":{"id":"6609bb19-ef32-58a4-ad47-c9a560afa413","headings":[{"value":"12. Creating a custom command"}],"fields":{"slug":"/tutorial/12-creating-a-custom-command/"}}},{"node":{"id":"ed727541-68ed-5ffa-b500-3e2d67ee0aad","headings":[{"value":"13. Creating a custom plugin"}],"fields":{"slug":"/tutorial/13-creating-a-custom-plugin/"}}},{"node":{"id":"7c5da057-3c39-5275-b002-665f09bf652d","headings":[{"value":"14. Creating a custom template"}],"fields":{"slug":"/tutorial/14-creating-a-custom-template/"}}},{"node":{"id":"ac758a21-5898-581f-8f8a-89a8edfd94d1","headings":[{"value":"15. Creating a zone"}],"fields":{"slug":"/tutorial/15-creating-a-zone/"}}},{"node":{"id":"c697982a-07ef-554a-a3a3-041864902c34","headings":[{"value":"16. Zone maintenance"}],"fields":{"slug":"/tutorial/16-zone-maintenance/"}}},{"node":{"id":"cc1283ed-9c5b-54f3-9e58-066d00429a8e","headings":[{"value":"17. Zone monitoring"}],"fields":{"slug":"/tutorial/17-zone-monitoring/"}}},{"node":{"id":"d96b1123-f8bd-5207-864f-abc448c8a034","headings":[{"value":"18. Zone recovery"}],"fields":{"slug":"/tutorial/18-zone-recovery/"}}},{"node":{"id":"1e016b44-8bf7-5291-8a77-e33be39d3787","headings":[{"value":"APPENDIX A: Technology tutorials"}],"fields":{"slug":"/tutorial/a-technology-tutorials/"}}},{"node":{"id":"669a57d7-a9e4-5d0e-8f6b-be481ca4be38","headings":[{"value":"APPENDIX B: Software design"}],"fields":{"slug":"/tutorial/b-software-design/"}}},{"node":{"id":"97b359bc-af92-5837-937e-646a7c1751a6","headings":[{"value":"APPENDIX C: Modern server infrastructure"}],"fields":{"slug":"/tutorial/c-modern-server-infrastructure/"}}},{"node":{"id":"b6b33ce2-199f-5fce-b0a9-28f0fd30e0f9","headings":[{"value":"APPENDIX D: Security"}],"fields":{"slug":"/tutorial/d-security/"}}},{"node":{"id":"143d54e6-a662-5fe2-9b4d-5b3d8b7d8786","headings":[],"fields":{"slug":"/tutorial/e-data-protection-and-privacy/"}}},{"node":{"id":"48a7350b-c188-5631-9207-9ff5e68afb7e","headings":[{"value":"APPENDIX F: SSL/TLS certificates"}],"fields":{"slug":"/tutorial/f-certificates/"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"3827531b-fba0-5a2a-9084-52516d3872f3"}}